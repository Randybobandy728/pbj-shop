<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PB&J Shop</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Optional: Include a Google Font for a modern feel -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <h1>Welcome to the PB&J Shop!</h1>
    <h2>Boston's best kept secret. Using homemade bread and assembled to your choosing, the PB&J Shop is meant to bring out your inner child.<h2>
    <h2>Only 10 PB&Js will be sold Saturday and Sunday. Dan Allens a bitch</h2>
    <p>Customize your perfect peanut butter &amp; jelly sandwich.</p>

    <form action="https://formsubmit.co/mdenny728@gmail.com" method="POST">
      <div class="form-group">
        <label for="quantity">Choose Quantity:</label>
        <select id="quantity" name="quantity">
          <option value="1">1</option>
          <option value="2">2</option>
        </select>
      </div>
            
      <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required placeholder="Your name" />
      </div>

      <div class="form-group">
        <label for="phone">Phone Number:</label>
        <input type="tel" id="phone" name="phone" required placeholder="Your phone number" />
      </div>

      <div class="form-group">
        <label for="toasted">Do you want your bread toasted?</label>
        <select id="toasted" name="toasted">
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
      </div>

      <div class="form-group">
        <label for="peanutButter">Choose your peanut butter:</label>
        <select id="peanutButter" name="peanutButter">
          <option value="Crunchy">Crunchy</option>
          <option value="Smooth">Smooth</option>
        </select>
      </div>

      <div class="form-group">
        <label for="jelly">Choose your jelly:</label>
        <select id="jelly" name="jelly">
          <option value="Strawberry">Strawberry</option>
          <option value="Grape">Grape</option>
        </select>
      </div>

      <input type="hidden" name="_subject" value="New PB&J Order!">
      <input type="hidden" name="_captcha" value="false">
      
      <button type="submit">Place Order</button>
    </form>
  <div id="pbj-tracker">
      <p>PB&Js Sold: <span id="sold-count">0</span> / 10</p>
    </div>
  </div>
  <script>
    let soldCount = localStorage.getItem("soldCount") ? parseInt(localStorage.getItem("soldCount")) : 0;
    document.getElementById("sold-count").textContent = soldCount;

    document.querySelector("form").addEventListener("submit", function(event) {
      event.preventDefault();
      if (soldCount < 10) {
        soldCount++;
        document.getElementById("sold-count").textContent = soldCount;
        localStorage.setItem("soldCount", soldCount);
        alert("Order placed! " + soldCount + " out of 10 PB&Js sold today.");
      } else {
        alert("Sorry, we're sold out for today!");
      }
    });

    function resetSoldCount() {
      const now = new Date();
      if (now.getHours() === 0 && now.getMinutes() === 0) {
        localStorage.setItem("soldCount", 0);
        document.getElementById("sold-count").textContent = 0;
      }
    }
    setInterval(resetSoldCount, 60000); // Check every minute
  </script>
</body>
</html>
